<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leo Music Player</title>
  <style>
    /* Add your existing styles here */
  </style>
</head>
<body>
  <div class="player">

    <!-- Leo text above the cover -->
    <img src="leo.png" alt="leo" class="leo-text">

    <!-- Album cover -->
    <div class="cover">
      <img src="music-cover.png" alt="Lion Cover" class="lion">
    </div>

    <!-- Song Info -->
    <div class="song-info">
      <h2> LEO </h2>
      <p id="song-artist">Jimi Hendrix – Woodstock</p>
    </div>

    <!-- Progress Bar -->
    <div class="progress">
      <input type="range" id="progress" value="0">
    </div>

    <div class="search-box">
      <input type="text" id="song-search" placeholder="Search songs..." oninput="showSuggestions(this.value)">
      <div id="suggestions" class="suggestions"></div>
    </div>

    <!-- Controls -->
    <div class="media-controls-container-dark">
      <button class="control-button-dark prev-btn-dark">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6z"/>
        </svg>
      </button>
      <button class="control-button-dark play-pause-btn-dark" id="play-pause-button" aria-label="Play/Pause">
        <svg class="icon-play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <svg class="icon-pause" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="display: none;">
          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
        </svg>
      </button>
      <button class="control-button-dark next-btn-dark">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M8.59 16.59L13.17 12l-4.58-4.59L10 6l6 6-6 6z"/>
        </svg>
      </button>
      <button class="control-button-dark loop-btn-dark" id="loop-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M17.3 7.3c-1.8-1.8-4.6-1.8-6.4 0l-1.7 1.7c-1.5-1.1-3.6-1-5 0-1.6 1.1-2 3.1-1 4.8 1.1 1.7 3.2 2.1 4.8 1 1.1-1.1 1.1-2.8 0-4l1.7-1.7c1.8 1.8 4.6 1.8 6.4 0 1.8-1.8 1.8-4.6 0-6.4z"/>
        </svg>
      </button>
    </div>

    <!-- Audio -->
    <audio id="audio" src="Meri_Banogi_kya-Rito_Riba.mp3"></audio>
  </div>

  <script>
    // Songs list
    const songs = [
      "Meri_Banogi_kya-Rito_Riba.mp3",
      "DARK-NIGHT-FUNK.m4a.webm",
      "MONTAGEM-ALUCINANTE-Rushex-Dj-Orbital.m4a.mp3",
      "No-Signal.m4a.webm",
      "SHOORVEER-3-A-Tribute-to-छत-रपत-श-व-ज-मह-र-ज.m4a.mp3",
      "SHOORVEER-Tribute-to-छत-रपत-स-भ-ज-मह-र-ज-CHHAAVA-I-Rapperiya.m4a.mp3",
      "Bhaag-Milkha-Bhaag-Rock-Version.m4a.mp3",
      "Rang-Jo-Lagyo-Ramaiya-Vastavaiya.m4a.mp3",
      "52-Bars_karan_aujilah.m4a.mp3",
      "Red-Sex-Re-Strung.m4a.mp3",
      "Sahiba_Aditya.m4a.mp3",
      "Zaalima.m4a.mp3",
      "Raabta_Arijit_singh.m4a.mp3",
      "Kabira_pritam.m4a.mp3",
      "Othaiyadi-Pathayila-.m4a.mp3",
      "Parro_Aditya_Rikhari.m4a.mp3",
      "Wishes-ft-Talwiinder.m4a.mp3",
      "Labrinth-Mount-Everest.m4a.mp3"
    ];

    let currentSongIndex = 0;
    let isLooping = false;

    const audio = document.getElementById("audio");
    const playPauseBtn = document.getElementById("play-pause-button");
    const progressBar = document.getElementById("progress");
    const songArtist = document.getElementById("song-artist");
    const prevBtn = document.querySelector(".prev-btn-dark");
    const nextBtn = document.querySelector(".next-btn-dark");
    const loopBtn = document.getElementById("loop-btn");

    // Load a song
    function loadSong(index) {
      currentSongIndex = (index + songs.length) % songs.length; // wrap around
      audio.src = songs[currentSongIndex];
      updateSongInfo();
      audio.play();
    }

    // Song info updater
    function updateSongInfo() {
      const fullPath = audio.src;
      const filename = fullPath.split("/").pop();
      const decodedName = decodeURIComponent(filename);
      const nameWithoutExt = decodedName.split(".").slice(0, -1).join(".");
      songArtist.textContent = nameWithoutExt;
    }

    // Play / Pause button
    playPauseBtn.addEventListener("click", () => {
      if (audio.paused) {
        audio.play();
      } else {
        audio.pause();
      }
    });

    audio.addEventListener("play", () => playPauseBtn.classList.add("playing"));
    audio.addEventListener("pause", () => playPauseBtn.classList.remove("playing"));

    // Progress bar update
    function updateProgressBar() {
      const value = (audio.currentTime / audio.duration) * 100 || 0;
      progressBar.value = value;
      progressBar.style.background = `linear-gradient(to right, #1db954 ${value}%, #ccc ${value}%)`;
    }

    audio.addEventListener("timeupdate", updateProgressBar);

    progressBar.addEventListener("input", () => {
      audio.currentTime = (progressBar.value / 100) * audio.duration;
    });

    // Prev / Next buttons
    prevBtn.addEventListener("click", () => loadSong(currentSongIndex - 1));
    nextBtn.addEventListener("click", () => loadSong(currentSongIndex + 1));

    // Loop functionality
    loopBtn.addEventListener("click", () => {
      isLooping = !isLooping;
      loopBtn.classList.toggle("active", isLooping); // visual toggle

      if (isLooping) {
        audio.addEventListener("ended", () => {
          audio.currentTime = 0; // Start song over
          audio.play();
        });
      } else {
        audio.removeEventListener("ended", () => {
          audio.currentTime = 0;
          audio.play();
        });
        audio.addEventListener("ended", () => loadSong(currentSongIndex + 1));
      }
    });

    // Autoplay next song when one ends (loop OFF)
    audio.addEventListener("ended", () => {
      if (!isLooping) {
        loadSong(currentSongIndex + 1);
      }
    });

    // Start with first song
    loadSong(currentSongIndex);
  </script>
</body>
</html>
